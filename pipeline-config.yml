# Pipeline Configuration
pipeline:
  name: "GenomicRiskPrediction_v2"
  version: "2.1.0"
  environment: "AWS_EMR_Cluster"
  
  stages:
    - name: "Bronze_Ingestion"
      task: "spark.vcf_to_parquet"
      input_path: "s3://1000g-raw-zone/*.vcf.gz"
      output_path: "s3://silver-staging/genotypes"
      resources: 
        nodes: 50
        driver_memory: "64g"
    
    - name: "Silver_QC"
      task: "spark.variant_qc_filter"
      dependencies: ["Bronze_Ingestion"]
      parameters: 
        maf_threshold: 0.01
        hwe_p_value: 1e-6
